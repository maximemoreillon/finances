{"version":3,"sources":["webpack:///./src/views/BalanceHistory.vue?a86b","webpack:///./src/components/charts/LineChart.vue","webpack:///src/components/charts/LineChart.vue","webpack:///./src/components/charts/LineChart.vue?85c1","webpack:///src/views/BalanceHistory.vue","webpack:///./src/views/BalanceHistory.vue?8e4c","webpack:///./src/views/BalanceHistory.vue","webpack:///./src/views/BalanceHistory.vue?0af2"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","dataCollection","_v","_s","current_balance","toLocaleString","attrs","_e","staticRenderFns","name","props","mixins","mounted","renderChart","data","maintainAspectRatio","legend","display","scales","xAxes","type","time","displayFormats","yAxes","ticks","callback","value","component","components","LineChart","Loader","loaded","labels","datasets","axios","post","account","response","forEach"],"mappings":"uHAAA,ICAI,EAAQ,EDARA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAAEN,EAAIO,eAAqB,OAAEH,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACN,EAAIQ,GAAG,yBAAyBR,EAAIS,GAAGT,EAAIU,gBAAgBC,kBAAkB,OAAQX,EAAIO,eAAqB,OAAEH,EAAG,YAAY,CAACE,YAAY,QAAQM,MAAM,CAAC,KAAOZ,EAAIO,kBAAkBP,EAAIa,MAAM,GAAGT,EAAG,WAAW,IACnbU,EAAkB,G,sDEGtB,GACEC,KAAM,YACNC,MAAO,CAAC,QACRC,OAAQ,CAAC,EAAX,MACEC,QAJF,WAKIjB,KAAKkB,YAAYlB,KAAKmB,KAAM,CAG1BC,qBAAqB,EACrBC,OAAQ,CACNC,SAAS,GAEXC,OAAQ,CACNC,MAAO,CAAC,CACNC,KAAM,OACNC,KAAM,CACJC,eAAgB,CAA5B,uBAGQC,MAAO,CAAC,CACNC,MAAO,CAELC,SAAU,SAAtB,GACc,OAAOC,EAArB,kBC3BkW,I,YFO9VC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,oBGQf,GACElB,KAAM,iBACNmB,WAAY,CACVC,UAAJ,EACIC,OAAJ,QAEEhB,KANF,WAOI,MAAO,CAELV,gBAAiB,UAEjBH,eAAgB,CACd8B,QAAQ,EACRC,OAAQ,GACRC,SAAU,CAClB,CACU,MAAV,UACU,KAAV,GACU,YAAV,UACU,MAAV,EACU,YAAV,EACU,eAAV,EACU,iBAAV,EACU,YAAV,OAMErB,QA7BF,WA6BA,WAGIjB,KAAKM,eAAe8B,QAAS,EAC7BpC,KAAKuC,MAAMC,KAAK,GAApB,mEACMC,QAAS,WAEf,kBAEM,EAAN,+DACM,EAAN,mFAEMC,EAASvB,KAAKwB,SAAQ,SAA5B,GACQ,EAAR,wDACQ,EAAR,gDAGM,EAAN,gDAEM,EAAN,4BAEA,8CC5EwV,ICQpV,G,UAAY,eACd,EACA7C,EACAe,GACA,EACA,KACA,WACA,OAIa,e,2CCnBf,yBAA6e,EAAG,G","file":"js/chunk-526a49c4.8ee17daa.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"balance_history\"},[(_vm.dataCollection.loaded)?_c('div',[_c('div',{staticClass:\"current_balance_container\"},[_vm._v(\" Current balance: JPY \"+_vm._s(_vm.current_balance.toLocaleString())+\" \")]),(_vm.dataCollection.loaded)?_c('LineChart',{staticClass:\"chart\",attrs:{\"data\":_vm.dataCollection}}):_vm._e()],1):_c('Loader')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render, staticRenderFns\nimport script from \"./LineChart.vue?vue&type=script&lang=js&\"\nexport * from \"./LineChart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\r\n// @ is an alias to /src\r\nimport { Line } from 'vue-chartjs'\r\n\r\nexport default {\r\n  name: 'LineChart',\r\n  props: ['data'],\r\n  mixins: [Line],\r\n  mounted(){\r\n    this.renderChart(this.data, {\r\n\r\n      // Options come here\r\n      maintainAspectRatio: false,\r\n      legend: {\r\n        display: false,\r\n      },\r\n      scales: {\r\n        xAxes: [{\r\n          type: 'time',\r\n          time: {\r\n            displayFormats: { quarter: 'MMM YYYY'}\r\n          }\r\n        }],\r\n        yAxes: [{\r\n          ticks: {\r\n            // Include a dollar sign in the ticks\r\n            callback: value => {\r\n              return value/10000 + \"万円\";\r\n            }\r\n          }\r\n        }]\r\n      }\r\n    });\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LineChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LineChart.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"balance_history\">\n\n    <div v-if=\"dataCollection.loaded\">\n\n      <div class=\"current_balance_container\">\n        Current balance: JPY {{current_balance.toLocaleString()}}\n      </div>\n\n      <LineChart\n        class=\"chart\"\n        v-if=\"dataCollection.loaded\"\n        v-bind:data=\"dataCollection\"/>\n\n    </div>\n\n    <Loader v-else/>\n\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport LineChart from '@/components/charts/LineChart.vue'\nimport Loader from '@/components//Loader.vue'\n\nexport default {\n  name: 'BalanceHistory',\n  components: {\n    LineChart,\n    Loader\n  },\n  data(){\n    return {\n\n      current_balance: \"loading\",\n\n      dataCollection: {\n        loaded: false,\n        labels: [], // filled by API call\n        datasets: [\n          {\n            label: 'Balance',\n            data: [], // filled by API call\n            borderColor: '#c00000',\n            fill: false,\n            pointRadius: 0,\n            pointHitRadius: 3,\n            pointHoverRadius: 3,\n            borderWidth: 2,\n          }\n        ],\n      }\n    }\n  },\n  mounted(){\n\n    // Loading history\n    this.dataCollection.loaded = false;\n    this.axios.post(`${process.env.VUE_APP_API_URL}/balance_history`, {\n      account: process.env.VUE_APP_BANK_ACCOUNT_NAME\n    })\n    .then(response => {\n      // Empty array\n      this.dataCollection.labels.splice(0,this.dataCollection.labels.length)\n      this.dataCollection.datasets[0].data.splice(0,this.dataCollection.datasets[0].data.length)\n      // repopulate\n      response.data.forEach(entry => {\n        this.dataCollection.datasets[0].data.push(Number(entry.balance))\n        this.dataCollection.labels.push(new Date(entry.time))\n      })\n\n      this.current_balance = response.data[response.data.length-1].balance\n\n      this.dataCollection.loaded = true;\n    })\n    .catch( error => console.log(error))\n\n  }\n}\n</script>\n\n<style scoped>\n\n.current_balance_container{\n  text-align: center;\n  font-size: 120%;\n  margin-bottom: 25px;\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BalanceHistory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BalanceHistory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BalanceHistory.vue?vue&type=template&id=82c35e38&scoped=true&\"\nimport script from \"./BalanceHistory.vue?vue&type=script&lang=js&\"\nexport * from \"./BalanceHistory.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BalanceHistory.vue?vue&type=style&index=0&id=82c35e38&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"82c35e38\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BalanceHistory.vue?vue&type=style&index=0&id=82c35e38&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BalanceHistory.vue?vue&type=style&index=0&id=82c35e38&scoped=true&lang=css&\""],"sourceRoot":""}